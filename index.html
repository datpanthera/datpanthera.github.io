<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gá»­i em, ngÆ°á»i con gÃ¡i anh thÆ°Æ¡ng â¤ï¸</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container" id="mainContainer">
        <div id="intro">
            <h1>Gá»­i em, cÃ´ gÃ¡i Ä‘áº·c biá»‡t cá»§a anh!</h1>
            <p>NhÃ¢n ngÃ y 20/10, anh cÃ³ má»™t mÃ³n quÃ  nhá» muá»‘n dÃ nh táº·ng em. HÃ£y má»Ÿ nÃ³ ra nhÃ©!</p>
            <div class="gift-box" id="giftBox">
                <div class="lid"></div>
                <div class="box"></div>
                <div class="heart">â¤ï¸</div>
            </div>
        </div>

        <div id="message" class="hidden">
            <h1>ChÃºc má»«ng ngÃ y Phá»¥ ná»¯ Viá»‡t Nam!</h1>
            <p>Anh chÃºc em luÃ´n xinh Ä‘áº¹p, vui váº» vÃ  háº¡nh phÃºc, khÃ´ng chá»‰ trong hÃ´m nay mÃ  trong táº¥t cáº£ nhá»¯ng ngÃ y sau ná»¯a. Cáº£m Æ¡n em Ä‘Ã£ xuáº¥t hiá»‡n trong cuá»™c Ä‘á»i anh.</p>
            <p>VÃ ... anh cÃ³ Ä‘iá»u nÃ y muá»‘n nÃ³i...</p>
        </div>

        <div id="confession" class="hidden">
            <h1>LÃ m ngÆ°á»i yÃªu anh nhÃ©?</h1>
            <p>Anh biáº¿t Ä‘iá»u nÃ y cÃ³ thá»ƒ báº¥t ngá», nhÆ°ng tÃ¬nh cáº£m anh dÃ nh cho em lÃ  tháº­t. Em cÃ³ Ä‘á»“ng Ã½ cho anh cÆ¡ há»™i Ä‘Æ°á»£c quan tÃ¢m, chÄƒm sÃ³c vÃ  yÃªu thÆ°Æ¡ng em khÃ´ng?</p>
            <div class="buttons">
                <button id="yesBtn">Äá»“ng Ã½ ğŸ¥°</button>
                <button id="noBtn">KhÃ´ng ğŸ˜¢</button>
            </div>
        </div>

        <div id="thankYou" class="hidden">
            <h1>Cáº£m Æ¡n em Ä‘Ã£ Ä‘á»“ng Ã½! â¤ï¸</h1>
            <p>Anh lÃ  ngÆ°á»i háº¡nh phÃºc nháº¥t tháº¿ gian nÃ y! Anh sáº½ liÃªn láº¡c vá»›i em ngay nhÃ©. YÃªu em!</p>
            <div class="pyro"><div class="before"></div><div class="after"></div></div>
        </div>
    </div>

    <!-- Form áº©n Ä‘á»ƒ gá»­i dá»¯ liá»‡u tá»›i Google Sheets -->
    <form id="google-form" class="hidden">
        <input type="text" name="entry.YOUR_ENTRY_ID" value="Äá»“ng Ã½">
    </form>

    <script>
        const giftBox = document.getElementById('giftBox');
        const intro = document.getElementById('intro');
        const message = document.getElementById('message');
        const confession = document.getElementById('confession');
        const thankYou = document.getElementById('thankYou');
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const mainContainer = document.getElementById('mainContainer');

        giftBox.addEventListener('click', () => {
            giftBox.classList.add('open');
            setTimeout(() => {
                intro.classList.add('hidden');
                message.classList.remove('hidden');
            }, 1500); // Äá»£i hiá»‡u á»©ng má»Ÿ quÃ  xong
            setTimeout(() => {
                message.classList.add('hidden');
                confession.classList.remove('hidden');
            }, 5000); // Hiá»ƒn thá»‹ lá»i chÃºc trong 3.5s
        });

        yesBtn.addEventListener('click', () => {
            // Gá»­i dá»¯ liá»‡u form áº©n
            submitToGoogleForm();
            
            confession.classList.add('hidden');
            thankYou.classList.remove('hidden');
            mainContainer.style.backgroundColor = '#ffe4e1'; // Äá»•i mÃ u ná»n cho thÃªm pháº§n lÃ£ng máº¡n
        });

        noBtn.addEventListener('mouseover', () => {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
        });

        function submitToGoogleForm() {
            const form = document.getElementById('google-form');
            // !!! THAY THáº¾ URL VÃ€ ENTRY ID Cá»¦A Báº N VÃ€O ÄÃ‚Y !!!
            const formURL = 'https://docs.google.com/forms/d/e/LONG_RANDOM_STRING/formResponse';
            const entryID = 'entry.1234567890'; // Thay báº±ng entry ID cá»§a báº¡n

            const formData = new FormData(form);
            formData.set(entryID, 'Äá»“ng Ã½');

            fetch(formURL, {
                method: 'POST',
                body: formData,
                mode: 'no-cors' // Quan trá»ng: Ä‘á»ƒ khÃ´ng bá»‹ lá»—i CORS
            }).catch(error => console.error('Error!', error.message));
        }
    </script>
</body>
</html>